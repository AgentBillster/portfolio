{"ast":null,"code":"/* global _stopObservingProgress, _startObservingProgress */\nimport { runOnUI } from '../core';\nimport { withStyleAnimation } from '../animation/styleAnimation';\nimport { ColorProperties } from '../UpdateProps';\nimport { processColor } from '../Colors';\nrunOnUI(() => {\n  'worklet';\n\n  const configs = Object.create(null);\n  const enteringAnimationForTag = {};\n  global.LayoutAnimationRepository = {\n    configs,\n    registerConfig(tag, config) {\n      configs[tag] = config;\n      enteringAnimationForTag[tag] = null;\n    },\n    removeConfig(tag) {\n      delete configs[tag];\n      delete enteringAnimationForTag[tag];\n    },\n    startAnimationForTag(tag, type, yogaValues) {\n      if (configs[tag] == null) {\n        return; // :(\n      }\n\n      const style = configs[tag][type](yogaValues);\n      let currentAnimation = style.animations;\n      if (type === 'entering') {\n        enteringAnimationForTag[tag] = style;\n      } else if (type === 'layout' && enteringAnimationForTag[tag] !== null) {\n        const entryAniamtion = enteringAnimationForTag[tag].animations;\n        const layoutAnimation = style.animations;\n        currentAnimation = {};\n        for (const key in entryAniamtion) {\n          currentAnimation[key] = entryAniamtion[key];\n        }\n        for (const key in layoutAnimation) {\n          currentAnimation[key] = layoutAnimation[key];\n        }\n      }\n      const sv = configs[tag].sv;\n      _stopObservingProgress(tag, false);\n      _startObservingProgress(tag, sv);\n      const backupColor = {};\n      for (const key in style.initialValues) {\n        if (ColorProperties.includes(key)) {\n          const value = style.initialValues[key];\n          backupColor[key] = value;\n          style.initialValues[key] = processColor(value);\n        }\n      }\n      sv.value = Object.assign({}, sv._value, style.initialValues);\n      _stopObservingProgress(tag, false);\n      const animation = withStyleAnimation(currentAnimation);\n      animation.callback = finished => {\n        if (finished) {\n          _stopObservingProgress(tag, finished);\n        }\n        style.callback && style.callback(finished);\n      };\n      if (backupColor) {\n        configs[tag].sv._value = Object.assign(Object.assign({}, configs[tag].sv.value), backupColor);\n      }\n      configs[tag].sv.value = animation;\n      _startObservingProgress(tag, sv);\n    }\n  };\n})();","map":{"version":3,"names":["runOnUI","withStyleAnimation","ColorProperties","processColor","configs","Object","create","enteringAnimationForTag","global","LayoutAnimationRepository","registerConfig","tag","config","removeConfig","startAnimationForTag","type","yogaValues","style","currentAnimation","animations","entryAniamtion","layoutAnimation","key","sv","_stopObservingProgress","_startObservingProgress","backupColor","initialValues","includes","value","assign","_value","animation","callback","finished"],"sources":["C:/Users/13093/codestuff/portfolio/node_modules/react-native-reanimated/lib/reanimated2/layoutReanimation/LayoutAnimationRepository.js"],"sourcesContent":["/* global _stopObservingProgress, _startObservingProgress */\nimport { runOnUI } from '../core';\nimport { withStyleAnimation } from '../animation/styleAnimation';\nimport { ColorProperties } from '../UpdateProps';\nimport { processColor } from '../Colors';\nrunOnUI(() => {\n    'worklet';\n    const configs = Object.create(null);\n    const enteringAnimationForTag = {};\n    global.LayoutAnimationRepository = {\n        configs,\n        registerConfig(tag, config) {\n            configs[tag] = config;\n            enteringAnimationForTag[tag] = null;\n        },\n        removeConfig(tag) {\n            delete configs[tag];\n            delete enteringAnimationForTag[tag];\n        },\n        startAnimationForTag(tag, type, yogaValues) {\n            if (configs[tag] == null) {\n                return; // :(\n            }\n            const style = configs[tag][type](yogaValues);\n            let currentAnimation = style.animations;\n            if (type === 'entering') {\n                enteringAnimationForTag[tag] = style;\n            }\n            else if (type === 'layout' && enteringAnimationForTag[tag] !== null) {\n                const entryAniamtion = enteringAnimationForTag[tag].animations;\n                const layoutAnimation = style.animations;\n                currentAnimation = {};\n                for (const key in entryAniamtion) {\n                    currentAnimation[key] = entryAniamtion[key];\n                }\n                for (const key in layoutAnimation) {\n                    currentAnimation[key] = layoutAnimation[key];\n                }\n            }\n            const sv = configs[tag].sv;\n            _stopObservingProgress(tag, false);\n            _startObservingProgress(tag, sv);\n            const backupColor = {};\n            for (const key in style.initialValues) {\n                if (ColorProperties.includes(key)) {\n                    const value = style.initialValues[key];\n                    backupColor[key] = value;\n                    style.initialValues[key] = processColor(value);\n                }\n            }\n            sv.value = Object.assign({}, sv._value, style.initialValues);\n            _stopObservingProgress(tag, false);\n            const animation = withStyleAnimation(currentAnimation);\n            animation.callback = (finished) => {\n                if (finished) {\n                    _stopObservingProgress(tag, finished);\n                }\n                style.callback && style.callback(finished);\n            };\n            if (backupColor) {\n                configs[tag].sv._value = Object.assign(Object.assign({}, configs[tag].sv.value), backupColor);\n            }\n            configs[tag].sv.value = animation;\n            _startObservingProgress(tag, sv);\n        },\n    };\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}